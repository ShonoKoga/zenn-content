"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.exec = void 0;
var path_1 = __importDefault(require("path"));
var fs_extra_1 = __importDefault(require("fs-extra"));
exports.exec = function () {
    var projectRoot = process.cwd();
    var mkDirNames = ["articles", "books"];
    mkDirNames.forEach(function (dirName) {
        try {
            fs_extra_1.default.mkdirpSync(path_1.default.join(projectRoot, dirName));
            fs_extra_1.default.writeFileSync(path_1.default.join(projectRoot, dirName, ".keep"), "", { flag: "wx" } // Don't overwrite
            );
        }
        catch (e) {
            console.log("Generating " + dirName + " skipped.");
        }
    });
    // generate .gitignore
    try {
        fs_extra_1.default.writeFileSync(path_1.default.join(projectRoot, ".gitignore"), ["node_modules", ".DS_Store"].join("\n"), { flag: "wx" } // Don't overwrite
        );
    }
    catch (e) {
        console.log("Generating .gitignore skipped.");
    }
    // generate README.md
    try {
        fs_extra_1.default.writeFileSync(path_1.default.join(projectRoot, "README.md"), [
            "# Zenn Contents\n\n",
            "[✍️ How to use](https://zenn.dev/zenn/articles/zenn-cli-guide)",
        ].join(""), { flag: "wx" } // Don't overwrite
        );
    }
    catch (e) {
        console.log("Generating README.md skipped.");
    }
    console.log("\n  \uD83C\uDF89Done!\n  \u65E9\u901F\u30B3\u30F3\u30C6\u30F3\u30C4\u3092\u4F5C\u6210\u3057\u307E\u3057\u3087\u3046\n\n  \uD83D\uDC47\u65B0\u3057\u3044\u8A18\u4E8B\u3092\u4F5C\u6210\u3059\u308B\n  $ zenn new:article\n\n  \uD83D\uDC47\u65B0\u3057\u3044\u672C\u3092\u4F5C\u6210\u3059\u308B\n  $ zenn new:book\n\n  \uD83D\uDC47\u8868\u793A\u3092\u30D7\u30EC\u30D3\u30E5\u30FC\u3059\u308B\n  $ zenn preview\n  ");
};
